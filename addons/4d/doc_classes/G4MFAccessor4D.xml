<?xml version="1.0" encoding="UTF-8" ?>
<class name="G4MFAccessor4D" inherits="G4MFItem4D" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../doc/class.xsd">
	<brief_description>
		Typed accessor for G4MF buffer view data.
	</brief_description>
	<description>
		G4MFAccessor4D is a class that provides a typed way to access the data in a [G4MFBufferView4D]. As an analogy with computer storage drives, if a buffer is a disk and a buffer view is a partition, then an accessor is a file system.
	</description>
	<tutorials>
	</tutorials>
	<methods>
		<method name="bytes_per_primitive" qualifiers="const">
			<return type="int" />
			<description>
				Returns the amount of bytes per primitive by reading the primitive type. For example, if the primitive type is [code]"float32"[/code], then this will read the [code]32[/code] as bits and divide by [code]8[/code] bits per byte to return [code]4[/code] bytes.
			</description>
		</method>
		<method name="bytes_per_vector" qualifiers="const">
			<return type="int" />
			<description>
				Returns the amount of bytes per vector by multiplying the [method bytes_per_primitive] by the [code]vector[/code] member. For example, if the primitive type is [code]"float32"[/code] and the accessor stores Vector3, then this will return [code]4 * 3 = 12[/code] bytes.
			</description>
		</method>
		<method name="decode_accessor_as_variants" qualifiers="const">
			<return type="Array" />
			<param index="0" name="state" type="G4MFState4D" />
			<param index="1" name="variant_type" type="int" enum="Variant.Type" />
			<description>
				Decodes the accessor data as a [Variant] array where all elements are of the specified [param variant_type]. Supported Variant types are those that can either be converted to/from numbers ([bool]/[int]/[float]), vectors, matrices, or arrays of numbers (packed byte/int/float arrays), but not arrays of vectors or non-numeric types like [Dictionary], [Object], or [String]. The possible types are for which [method primitives_per_variant] returns a value greater than [code]0[/code].
			</description>
		</method>
		<method name="decode_floats_from_primitives" qualifiers="const">
			<return type="PackedFloat64Array" />
			<param index="0" name="state" type="G4MFState4D" />
			<description>
				Decodes floats from the accessor data and returns them as a [PackedFloat64Array]. This is a low-level function that only works if the underlying data in the accessor is some kind of float. If you want to convert non-float data to floats, use [method decode_accessor_as_variants] instead.
			</description>
		</method>
		<method name="decode_ints_from_primitives" qualifiers="const">
			<return type="PackedInt64Array" />
			<param index="0" name="state" type="G4MFState4D" />
			<description>
				Decodes ints from the accessor data and returns them as a [PackedInt64Array]. This is a low-level function that only works if the underlying data in the accessor is some kind of signed integer. If you want to convert other data to signed integers, use [method decode_accessor_as_variants] instead.
			</description>
		</method>
		<method name="encode_accessor" qualifiers="const">
			<return type="PackedByteArray" />
			<param index="0" name="input_data" type="Array" />
			<description>
				Encodes the given data as a [PackedByteArray] and returns it. This function expects that all data in the array is of a homogeneous type which is compatible with the accessor's primitive type and vector size (set [member primitive_type] and [member vector_size] before calling). For example, if the array contains [Color], then the primitive type must be some kind of float type and the vector size must be either [code]3[/code] or [code]4[/code].
				All data in the array must be of the same type as all other data in the array, since the resulting encoded accessor will be a blob of data all of the same type. If an item of a different type is encountered, the function will throw an error and return an empty array.
			</description>
		</method>
		<method name="encode_floats_as_primitives" qualifiers="const">
			<return type="PackedByteArray" />
			<param index="0" name="input_data" type="PackedFloat64Array" />
			<description>
				Encodes the given [PackedFloat64Array] as a [PackedByteArray] and returns it. This is a low-level function that only works if the [member primitive_type] is some kind of float. If you want to convert other data to floats, use [method encode_accessor] instead.
			</description>
		</method>
		<method name="encode_ints_as_primitives" qualifiers="const">
			<return type="PackedByteArray" />
			<param index="0" name="input_data" type="PackedInt64Array" />
			<description>
				Encodes the given [PackedInt64Array] as a [PackedByteArray] and returns it. This is a low-level function that only works if the [member primitive_type] is some kind of signed integer. If you want to convert other data to signed integers, use [method encode_accessor] instead.
			</description>
		</method>
		<method name="from_dictionary" qualifiers="static">
			<return type="G4MFAccessor4D" />
			<param index="0" name="dict" type="Dictionary" />
			<description>
				Creates a new [G4MFAccessor4D] from the given dictionary representing the JSON data of the G4MF accessor. This is used when importing the accessor from a file.
			</description>
		</method>
		<method name="load_bytes_from_buffer_view" qualifiers="const">
			<return type="PackedByteArray" />
			<param index="0" name="state" type="G4MFState4D" />
			<description>
				Loads the raw bytes from the [G4MFBufferView4D] this accessor is pointing to. Compared to accessing the buffer view directly, this function will return an empty array if the buffer view's size is not a multiple of the accessor's vector element size (see [method bytes_per_vector]).
			</description>
		</method>
		<method name="primitives_per_variant" qualifiers="static">
			<return type="int" />
			<param index="0" name="variant_type" type="int" enum="Variant.Type" />
			<description>
				Returns the amount of primitive numeric components in a supported Variant type, or returns [code]0[/code] if the type is not supported. Supported Variant types are those that can either be converted to/from numbers ([bool]/[int]/[float]), vectors, matrices, or arrays of numbers (packed byte/int/float arrays), but not arrays of vectors or non-numeric types like [Dictionary], [Object], or [String].
			</description>
		</method>
		<method name="to_dictionary" qualifiers="const">
			<return type="Dictionary" />
			<description>
				Returns a dictionary representing the JSON data of the G4MF accessor. This is used to serialize the accessor to a file when exporting.
			</description>
		</method>
	</methods>
	<members>
		<member name="buffer_view_index" type="int" setter="set_buffer_view_index" getter="get_buffer_view_index" default="-1">
			The index of the [G4MFBufferView4D] in the [G4MFState4D]'s array of buffer views this accessor is pointing to. This is used to load the data from the buffer view.
		</member>
		<member name="primitive_type" type="String" setter="set_primitive_type" getter="get_primitive_type" default="&quot;&quot;">
			The primitive type of the data in the accessor. This is used to determine how to decode the data in the accessor. The primitive type is a string that can be one of the following: [code]float8[/code], [code]float16[/code], [code]float32[/code], [code]float64[/code], [code]int8[/code], [code]int16[/code], [code]int32[/code], [code]int64[/code], [code]uint8[/code], [code]uint16[/code], [code]uint32[/code], or [code]uint64[/code]. The primitive type is used to determine how to decode the data in the accessor.
		</member>
		<member name="vector_size" type="int" setter="set_vector_size" getter="get_vector_size" default="1">
			The size of the vector in the accessor. This is used to determine how to decode the data in the accessor. This must be a positive integer. A scalar is represented as [code]1[/code], a Vector4 is [code]4[/code], a 4D basis is [code]16[/code], and so on.
		</member>
	</members>
</class>
